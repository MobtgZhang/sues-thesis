% 定义一些常用的颜色标注
\newcommand{\red}[1]{{\textcolor{red}{#1}}}%
% 定义一个数学公式
\newcommand{\argmin}{\mathop{\mathrm{argmin}}\limits}
\newcommand{\argmax}{\mathop{\mathrm{argmax}}\limits}
\chapter{公式、图表}
\section{公式}

方便快捷写入公式是\LaTeX 相对于Word编辑器最为主要的优势之一，特别是熟练掌握之后，在输入公式的时候具有非常大的提升效果。


\LaTeX 中的公式分为两类，包括有\red{行内公式}和\red{行间公式}，例如这是一个行间公式$f(x)=\frac{1}{\sqrt{2\pi}\sigma}\exp\left(-\frac{(x-\mu)^{2}}{2\sigma^{2}}\right)$，下面举例几个行间公式

\begin{eqnarray}
    f(x)&=&\dfrac{1}{\sqrt{2\pi}\sigma}\exp\left(-\dfrac{(x-\mu)^{2}}{2\sigma^{2}}\right)    
\end{eqnarray}

例如，定义一个分段函数
\begin{eqnarray}
    f(x)&=&\begin{cases}
        -x^{3}+x+8&,x\leq{2}\\
        \dfrac{1}{2}x^{2}&,2<x\leq{10}\\
        x+10&,x>10
    \end{cases}
\end{eqnarray}

也可以定义一个多行的连等的等式，定义如下所示
\begin{eqnarray}
    \cos{2x}&=\cos^{2}x-\sin^{2}x\\
        &=2\cos^{2}x-1\\
        &=1-2\sin^{2}
\end{eqnarray}

可以将多个等式对齐写在同一个语句块当中，例如麦克斯韦方程组

积分形式：
\begin{equation}
    \begin{cases}
        \displaystyle\oint_{l}\mathbf{H}\cdot{d}\mathbf{l}&=\displaystyle\iint_\mathbf{S}J\cdot{d}\mathbf{S}+\displaystyle\iint_{S}\dfrac{\partial\mathbf{D}}{\partial{t}}\cdot{dS}\\
        \displaystyle\oint_{l}\mathbf{E}\cdot{d}\mathbf{l}&=-\displaystyle\iint_{S}\dfrac{\partial\mathbf{B}}{\partial{t}}\cdot{d}\mathbf{S}\\
        \displaystyle\oint_{S}\mathbf{B}\cdot{d}\mathbf{S}&=0\\
        \displaystyle\oint_{S}\mathbf{D}\cdot{d}\mathbf{S}&=\displaystyle\iiint_\mathbf{V}\rho{d}\mathbb{V}
    \end{cases}
\end{equation}

微分形式：
\begin{equation}
    \begin{cases}
        \nabla\times\mathbf{H}&=J+\dfrac{\partial\mathbf{D}}{\partial{t}}\\
        \nabla\times\mathbf{E}&=-\dfrac{\partial\mathbf{B}}{\partial{t}}\\
        \nabla\cdot\mathbf{B}&=0\\
        \nabla\cdot\mathbf{H}&=\rho\\
    \end{cases}
    \label{equ:diff-function}
\end{equation}

带有矩阵定义的公式：
\begin{equation}
    \mathbf{H} = -\mathbf\mu \cdot \mathbf{B} = -\gamma B_o \mathbf{S}_z = -\frac{\gamma B_o\hbar}{2} 
        \begin{bmatrix}
            1& \cdots &1\\ 
            \vdots & \ddots & \vdots \\
            1 & \cdots & 1 
        \end{bmatrix}.
    \label{equ:matrix}
\end{equation}

在求解凸优化问题的时候，问题研究最后求解归结为以下的方程形式：
\begin{equation}
    \argmin_{x_{j},j=1,\cdots,N}\sum\limits_{j=1}^{N}c_{j}x_{j}
\end{equation}
\begin{eqnarray}
    \text{s.t.}\begin{cases}
        \sum\limits_{j=1}^{N}a_{ij}x_{j}=b_{i},&i=1,\cdots,{m}\\
        x_{j}\geq{0},
    \end{cases}
\end{eqnarray}

在文章当中每一个公式的后面均可以添加一个label的标签，这样就可以应用公式了，例如\cref{equ:matrix}就是刚刚我们表达的矩阵表达式。


\section{画表}
三线表画法：前面已经说明了三线表的画法，这里再次举例一个三线表，如表\ref{tab:heightweight}所示。

\begin{table}[!htp]
    \newcolumntype{L}{X}
    \newcolumntype{C}{>{\centering \arraybackslash}X}
    \newcolumntype{R}{>{\raggedright \arraybackslash}X}
    \centering
    \bicaption{某校学生身高体重样本}{Height and weight samples of students in a school}
    \label{tab:heightweight}
    \begin{tabularx}{0.9\textwidth}{CCCC}
       \toprule[1.5pt]
        序号&年龄&身高&体重\\
        \midrule[0.75pt]
        1&14&156&42\\
        2&16&158&45\\
        3&14&162&48\\
        4&15&163&50\\
        \midrule[0.75pt]
        %\cmidrule{2-4}
        平均&15&159.75&46.25\\
        \bottomrule[1.5pt]
    \end{tabularx}
\end{table}

表\ref{tab:some_products_datasets}所示是一个简单的双并排表的一个画法。
\begin{table}[htp!]
    \centering
    \bicaption{某行业产量与生产费用的数据}{Data of output and production cost of an industry}
    \label{tab:some_products_datasets}
    \newcolumntype{Y}{>{\centering\arraybackslash}X}
    \newcolumntype{Z}{!{\vline}@{\color{white}\vrule width \doublerulesep}!{\vrule}}%自定义列格式(双线)
    \begin{tabularx}{0.94\textwidth}{c|c|YZc|c|Y}
        \Xhline{0.9pt}
        企业编号&	产量(台)&生产费用(万元)&企业编号&产量(台)&生产费用(万元)\\
        \Xcline{1-3}{0.6pt}\Xcline{4-6}{0.6pt}
        1&	40&	130&7&	84&	165\\
        2&	42&	150&8&	100&	170\\
        3&	50&	155&9&	116&	167\\
        4&	55&	140&10&	125&	180\\
        5&	65&	150&11&	130&	175\\
        6&	78&	154&12&	140&	185\\
        \Xhline{0.72pt}
    \end{tabularx}
\end{table}

当然也可以画一个较为复杂的表，如表\ref{tab:model_dataset}所示

\begin{table}[hbpt]
    \centering
    \bicaption{一个数据表例子}{An example of a data table}
    \label{tab:model_dataset}
    \begin{tabular}{c|p{1cm}<{\centering}p{1cm}<{\centering}p{1cm}<{\centering}p{1cm}<{\centering}p{1cm}<{\centering}p{1cm}<{\centering}p{2cm}<{\centering}}
        \Xhline{2pt}
        Train & ND & YOS & LIB & YOS & LIB & ND & \multirow{2}{*}{Mean} \\
        \cmidrule(r){0-1}\cmidrule(lr){2-3}\cmidrule(lr){4-5}\cmidrule(lr){6-7}
        Test & \multicolumn{2}{c}{LIB} & \multicolumn{2}{c}{ND} & \multicolumn{2}{c}{YOS} &\\
        \Xcline{1-1}{0.4pt}
        \Xhline{1pt}
        
        SIFT [23] & \multicolumn{2}{c}{29.84} & \multicolumn{2}{c}{22.53} & \multicolumn{2}{c}{27.29} & 26.55\\
        TFeat [3] & 7.39 & 10.13 & 3.06 & 3.80 & 8.06 & 7.24 & 6.64 \\
        L2-Net [46] & 2.36 & 4.70 & 0.72 & 1.29 & 2.57 & 1.71 & 2.23 \\
        HardNet [26] & 1.49 & 2.51 & 0.53 & 0.78 & 1.96 & 1.84 & 1.51 \\
        DOAP [15] & 1.54 & 2.62 & 0.43 & 0.87 & 2.00 & 1.21 & 1.45 \\
        SOSNet [47] & 1.08 & 2.12 & 0.35 & 0.67 & 1.03 & \textbf{0.95} & 1.03 \\
        \textbf{HyNet} & \textbf{0.89} & \textbf{1.37} & \textbf{0.34} & \textbf{0.61} & \textbf{0.88} & 0.96 & \textbf{0.84} \\
        \Xhline{2pt}
    \end{tabular} 
\end{table}


\newpage
\section{画图}
本章节介绍图片插入方法，一共有三种插入图片的方法，我在下面详细介绍。
\subsection{普通插图方法}
如图\ref{fig:my_pic1}所示，在这里我们插入了一个图片。其中可以自定义缩放比例以及图片的高度等等信息。
\begin{figure}[hbpt]
    \centering
    \includegraphics[width=0.9\textwidth]{figures/test.jpg}
    \bicaption{这里插入了一个普通的相片}{An ordinary photo is inserted here}
    \label{fig:my_pic1}
\end{figure}
\subsection{多图插图方法}
多图插图方法主要是用到subfloat来进行插图处理。
\begin{figure}[htbp]
    \centering
    \subfloat[泰山]{
        \begin{minipage}[t]{0.48\linewidth}
            \centering
            \includegraphics[width=0.9\linewidth]{figures/taishan.jpeg}
        \end{minipage}
    }\vspace{-0.1cm}
    \subfloat[桂林山水]{
        \begin{minipage}[t]{0.48\linewidth}
            \centering
            \includegraphics[width=0.9\linewidth]{figures/guilin.jpeg}
        \end{minipage}
    }\vspace{-0.1cm}
    \subfloat[锡林郭勒盟草原]{
        \begin{minipage}[t]{0.48\linewidth}
            \centering
            \includegraphics[width=0.9\linewidth]{figures/xilinguole.jpeg}
        \end{minipage}
    }\vspace{-0.1cm}
    \subfloat[布达拉宫]{
        \begin{minipage}[t]{0.48\linewidth}
            \centering
            \includegraphics[width=0.9\linewidth]{figures/budalagong.jpeg}
        \end{minipage}
    }
    \centering
    \bicaption{示例的四张风景图片}{Four landscape pictures of the example}
\end{figure}

\subsection{latex自带的一些插图方法}

另外一种就是latex自带的一种画图方法，这里示例两种latex自带的画图方法。
\begin{enumerate}
    \item \textbf{复杂网络结构图}：如图\ref{fig:complex_fig}(a) 所示。
    \item \textbf{函数图像}：如图\ref{fig:complex_fig}(b),(c) 所示，详细参考\href{https://pgfplots.sourceforge.net/gallery.html}，函数图像的画法使用到的是pgfplots库当中的元素画图。
\end{enumerate}

\begin{figure}
    \centering
    \bicaption{latex自带工具画图}{Drawing of latex built-in tools}
    \label{fig:complex_fig}
    \subfloat[复杂网络结构图]{
        \begin{minipage}[t]{0.9\linewidth}
            \centering
            \begin{tikzpicture}
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=blue] (1) at(0,2){$x_1$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=blue] (2) at(0,0){$x_2$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=orange] (3) at(2,-1){$a_3^{(2)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=orange] (4) at(2,1){$a_2^{(2)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=orange] (5) at(2,3){$a_1^{(2)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=orange] (6) at(4,-1){$a_3^{(3)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=orange] (7) at(4,1){$a_2^{(3)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=orange] (8) at(4,3){$a_1^{(3)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=purple] (9) at(6,2){$a_1^{(4)}$};
                \node[circle,
                    minimum width =30pt ,
                    minimum height =30pt ,draw=purple] (10) at(6,0){$a_2^{(4)}$};
                \draw[->] (1) --(3);
                \draw[->] (1) --(4);
                \draw[->] (1) --(5);
                \draw[->] (2) --(3);
                \draw[->] (2) --(4);
                \draw[->] (2) --(5);
                \draw[->] (3) --(6);
                \draw[->] (3) --(7);
                \draw[->] (3) --(8);
                \draw[->] (4) --(6);
                \draw[->] (4) --(7);
                \draw[->] (4) --(8);
                \draw[->] (5) --(6);
                \draw[->] (5) --(7);
                \draw[->] (5) --(8);
                \draw[->] (6) --(9);
                \draw[->] (6) --(10);
                \draw[->] (7) --(9);
                \draw[->] (7) --(10);
                \draw[->] (8) --(9);
                \draw[->] (8) --(10);
            \end{tikzpicture}
        \end{minipage}
    }\vspace{-0.1cm}
    \subfloat[函数图像]{
        \begin{minipage}[t]{0.4\linewidth}
            \centering
            \begin{tikzpicture}
                \begin{axis}[
                    height=7cm,
                    width=7cm,
                    grid=major,
                ]
                    
                \addplot {-x^5 - 242};
                \addlegendentry{model}
            
                \addplot coordinates {
                    (-4.77778,2027.60977)
                    (-3.55556,347.84069)
                    (-2.33333,22.58953)
                    (-1.11111,-493.50066)
                    (0.11111,46.66082)
                    (1.33333,-205.56286)
                    (2.55556,-341.40638)
                    (3.77778,-1169.24780)
                    (5.00000,-3269.56775)
                };
                \addlegendentry{estimate}
                \end{axis}
            \end{tikzpicture}
        \end{minipage}
    }\vspace{-0.1cm}
    \quad
    \subfloat[统计图]{
        \begin{minipage}[t]{0.4\linewidth}
            \centering
            \begin{tikzpicture}
                \begin{axis}[
                    height=6cm,
                    width=8cm,
                    x tick label style={
                        /pgf/number format/1000 sep=},
                    ylabel=Population,
                    enlargelimits=0.15,
                    legend style={at={(0.5,-0.15)},
                        anchor=north,legend columns=-1},
                    ybar,
                    bar width=7pt,
                ]
                \addplot 
                    coordinates {(1930,50e6) (1940,33e6)
                         (1950,40e6) (1960,50e6) (1970,70e6)};
                
                \addplot 
                    coordinates {(1930,38e6) (1940,42e6) 
                        (1950,43e6) (1960,45e6) (1970,65e6)};
                
                \addplot 
                    coordinates {(1930,15e6) (1940,12e6) 
                        (1950,13e6) (1960,25e6) (1970,35e6)};
                
                \addplot[red,sharp plot,update limits=false] 
                    coordinates {(1910,4.3e7) (1990,4.3e7)} 
                    node[above] at (axis cs:1950,4.3e7) {Houses};
                
                \legend{Far,Near,Here,Annot}
                \end{axis}
            \end{tikzpicture}
        \end{minipage}
    }
\end{figure}




